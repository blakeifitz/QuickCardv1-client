(this["webpackJsonpquickcard-client"]=this["webpackJsonpquickcard-client"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(2),i=n.n(r),a=n(17),d=n.n(a),o=n(35),s=(n(24),n(13)),u=n(14),l=n(3),h=n(4),j=n(6),b=n(5),p=n(34),f=n(33),O=i.a.createContext({notes:"",decks:[],cards:[],commitCards:function(){},commitDeck:function(){},deleteDeck:function(){},deleteCard:function(){},updateDeck:function(){},updateCard:function(){}}),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,c=(e=(e=(e=e.split(/\r?\n/)).filter((function(e){return""!==e}))).map((function(e){return e.split(n)}))).map((function(e){return e.slice(0,1)})),r=e.map((function(e){return e.slice(1,2)}));c=c.map((function(e){return e.pop()})),r=r.map((function(e){return e.pop()}));for(var i={},a=[],d=0;d<c.length;d++)i={deck:t,keyword:c[d],definition:r[d]},-1===Object.values(i).indexOf("")&&a.push(i);return 0!==a.length?a:null},x="https://secret-tor-31743.herokuapp.com/api",m=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var n=t.target.notes.value,c=t.target.deckName.value,r=t.target.deckDescription.value,i=t.target["symbol-select"].value,a={deck_name:c,description:r,created:new Date},d=k(n,0,i);if(!d)return e.setState({errorMessage:1});fetch("".concat(x,"/deck"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){d=k(n,t.id,i),a.id=t.id,e.context.commitDeck(a),d.forEach((function(t){return fetch("".concat(x,"/card"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){console.log(t),e.context.commitCards(t)}))})),e.props.history.push("/deck")})).then((function(e){console.log(e)})).catch((function(e){console.error({error:e})}))},e.state={errorMessage:0},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[0!==this.state.errorMessage&&Object(c.jsx)("p",{children:"Please add valid notes to deck"}),Object(c.jsx)("h2",{children:"Add Deck"}),Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"deckName",children:"Enter Deck Name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{id:"deckName"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"notes",children:"Insert notes"}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{id:"notes"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"deckDescription",children:"Describe Deck"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{id:"deckDescription"}),Object(c.jsx)("label",{htmlFor:"note-folder-select",children:"Split Symbol"}),Object(c.jsxs)("select",{id:"symbol-select",children:[Object(c.jsx)("option",{value:":",children:":"}),Object(c.jsx)("option",{value:"-",children:"-"}),Object(c.jsx)("option",{value:"/",children:"/"})]}),Object(c.jsx)("br",{}),"[placeholder for screenshots to clarify Split Symbol]",Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"Submit"})]}),Object(c.jsx)("button",{onClick:function(){return e.props.history.push("/deck")},children:"Cancel"})]})}}]),n}(i.a.Component));m.contextType=O;n(25);var v=n(12),C=(n(26),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).handleDelete=function(e){e.preventDefault();var t=parseFloat(c.state.editCardId);fetch("".concat(x,"/card/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){c.context.deleteCard(t)})).catch((function(e){console.error({error:e})}))},c.handleSave=function(e){e.preventDefault();var t=c.state.keywordInputValue,n=c.state.definitionInputValue,r=parseFloat(c.state.editCardId),i={id:r,keyword:t,definition:n,deck:c.props.deck};fetch("".concat(x,"/Card/").concat(r),{method:"PATCH",body:JSON.stringify(i),headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){c.context.updateCard(i,r),c.setState({editCardId:""})})).catch((function(e){console.error(e)}))},c.state={definitionInputValue:"",keywordInputValue:"",editCardId:""},c}return Object(h.a)(n,[{key:"renderStandard",value:function(e){var t=this;return this.props.showAnswer?Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"Definition:"}),Object(c.jsx)("p",{children:e.definition}),Object(c.jsx)("p",{children:e.cardNumber}),Object(c.jsx)("button",{onClick:function(n){return t.setState({editCardId:e.id,keywordInputValue:e.keyword,definitionInputValue:e.definition})},children:"Edit"})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("h4",{children:"Word/Phrase:"}),Object(c.jsx)("p",{children:e.keyword?e.keyword:""}),Object(c.jsx)("p",{children:e.cardNumber}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(n){return t.setState({editCardId:e.id,keywordInputValue:e.keyword,definitionInputValue:e.definition})},children:"Edit"})]})}},{key:"renderEdit",value:function(e){var t=this,n={definitionInputValue:"",keywordInputValue:"",editCardId:""};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("h4",{children:"Word/Phrase:"}),Object(c.jsxs)("p",{children:["    ",Object(c.jsx)("input",{value:this.state.keywordInputValue,onChange:function(e){return t.setState({keywordInputValue:e.target.value})},className:"inline-edit_input",name:"edit-name",required:!0})]}),Object(c.jsx)("p",{children:"edit"}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"Definition:"}),"      ",Object(c.jsx)("textarea",{value:this.state.definitionInputValue,onChange:function(e){return t.setState({definitionInputValue:e.target.value})},className:"inline-edit_input",name:"edit-name",required:!0}),Object(c.jsx)("p",{children:"edit"}),Object(c.jsx)("button",{onClick:function(e){return t.setState(Object(v.a)({},n))},children:"Cancel"}),Object(c.jsx)("button",{onClick:function(e){return t.handleDelete(e)},children:"Delete"})]})]})}},{key:"render",value:function(){var e=this,t=this.props.card;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"flashcard-box",children:[t.id===this.state.editCardId?Object(c.jsx)("div",{children:this.renderEdit(t)}):Object(c.jsx)("div",{children:this.renderStandard(t)}),Object(c.jsx)("button",{onClick:function(){return e.props.history.push("/deck")},children:"Exit Deck"}),Object(c.jsx)("button",{onClick:function(t){return e.handleSave(t)},children:"Save"})]})})}}]),n}(i.a.Component));C.contextType=O,C.defaultProps={card:[{keyword:"",definition:"",cardNumber:1}]};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(e=e.filter((function(e){return e.deck.toString()===t}))).map((function(e,t){return e.cardNumber=t+1})),e},y=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={showAnswer:!1,cardNumber:1},e}return Object(h.a)(n,[{key:"handleNext",value:function(e){return e.preventDefault(),this.setState({cardNumber:this.state.cardNumber+1})}},{key:"handleBack",value:function(e){e.preventDefault(),this.setState({cardNumber:this.state.cardNumber-1})}},{key:"getCurrentCard",value:function(){var e=this,t=this.context.cards,n=this.props.match.params.deckId;return D(t,n).filter((function(t){return t.cardNumber===e.state.cardNumber}))[0]}},{key:"render",value:function(){var e=this,t=this.context.decks,n=this.props.match.params.deckId,r=D(this.context.cards,n),i=function(e,t){return t.filter((function(t){return t===e}))}(n,t);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:i.name}),Object(c.jsx)("div",{onClick:function(){e.setState({showAnswer:!e.state.showAnswer})},children:Object(c.jsx)(C,{card:this.getCurrentCard(),history:this.props.history,nextCard:this.handleNext,showAnswer:this.state.showAnswer,deck:n})}),this.state.cardNumber<r.length&&Object(c.jsx)("button",{onClick:function(t){return e.handleNext(t)},children:"Next"}),this.state.cardNumber>1&&Object(c.jsx)("button",{onClick:function(t){return e.handleBack(t)},children:"Back"})]})}}]),n}(i.a.Component);y.contextType=O;n(27);var S=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).handleSave=function(e){e.preventDefault();var t=c.state.editDeckId,n=c.state.nameInputValue,r=c.state.descriptionInputValue,i=parseFloat(c.state.editDeckId),a={id:t,deck_name:n,description:r};fetch("".concat(x,"/deck/").concat(i),{method:"PATCH",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){c.context.updateDeck(a),c.setState({editDeckId:""})})).catch((function(e){console.error(e)}))},c.handleClickDelete=function(e){e.preventDefault();var t=parseFloat(c.state.editDeckId);fetch("".concat(x,"/deck/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){c.context.deleteDeck(t);var e=c.context.cards,n=void 0===e?[]:e;(n=D(n,t)).forEach((function(e){c.context.deleteCard(e.id)}))})).catch((function(e){console.error({error:e})}))},c.state={descriptionInputValue:"",nameInputValue:"",editDeckId:""},c}return Object(h.a)(n,[{key:"renderStandard",value:function(e){var t=this,n=this.context.cards,r=e.id.toString(),i=D(n,r).length;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("span",{className:"inline-edit",children:[Object(c.jsx)(f.a,{to:"/deck/".concat(e.id),children:Object(c.jsx)("h4",{children:e.deck_name})}),e.description]}),Object(c.jsxs)("p",{children:["No. of cards: ",i]}),Object(c.jsx)("button",{onClick:function(n){return t.setState({editDeckId:e.id,nameInputValue:e.deck_name,descriptionInputValue:e.description})},children:"Edit"})]})}},{key:"renderEdit",value:function(e){var t=this,n={descriptionInputValue:"",nameInputValue:"",editDeckId:""},r=this.context.cards,i=e.id.toString(),a=D(r,i).length;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{value:this.state.nameInputValue,onChange:function(e){return t.setState({nameInputValue:e.target.value})},className:"inline-edit_input",name:"edit-name",required:!0}),Object(c.jsx)("input",{defaultValue:this.state.descriptionInputValue,onChange:function(e){return t.setState({descriptionInputValue:e.target.value})},className:"inline-edit_input",name:"edit description",required:!0}),Object(c.jsxs)("p",{children:["No. of cards: ",a]}),this.state.editDeckId===e.id&&Object(c.jsxs)("div",{className:"editModeButtons",children:[Object(c.jsx)("button",{onClick:function(e){return t.setState(Object(v.a)({},n))},children:"Cancel"}),Object(c.jsx)("button",{onClick:function(e){return t.handleSave(e)},children:"Save"}),Object(c.jsx)("button",{onClick:function(e){return t.handleClickDelete(e)},children:"Delete"})]})]})}},{key:"render",value:function(){var e=this,t=this.context.decks;return Object(c.jsxs)("section",{className:"page",id:"viewDecks",children:[Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Your Decks"}),Object(c.jsx)("p",{children:"Here are all of your decks!"}),Object(c.jsx)("h3",{children:"List of Decks"}),Object(c.jsx)("ul",{children:t.map((function(t){return Object(c.jsx)("li",{children:t.id===e.state.editDeckId?Object(c.jsx)("div",{children:e.renderEdit(t)}):Object(c.jsx)("div",{children:e.renderStandard(t)})},t.id)}))}),Object(c.jsx)(f.a,{to:"/newdeck",children:Object(c.jsx)("button",{className:"add",children:"Add new Deck"})})]})," "]})}}]),n}(i.a.Component);S.contextType=O;var g=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={decks:[],cards:[]},e.handleCommitCards=function(t){e.setState({cards:[].concat(Object(u.a)(e.state.cards),[t])})},e.handleCommitDeck=function(t){e.setState({decks:[].concat(Object(u.a)(e.state.decks),[t])})},e.handleDeleteCard=function(t){e.setState({cards:e.state.cards.filter((function(e){return e.id!==t}))})},e.handleDeleteDeck=function(t){e.setState({decks:e.state.decks.filter((function(e){return e.id!==t}))})},e.handleUpdateDeck=function(t){e.setState({decks:e.state.decks.map((function(e){return e.id!==t.id?e:t}))})},e.handleUpdateCard=function(t,n){e.setState({cards:e.state.cards.map((function(e){return e.id!==n?e:t}))})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("".concat(x,"/deck")),fetch("".concat(x,"/card"))]).then((function(e){var t=Object(s.a)(e,2),n=t[0],c=t[1];return n.ok?c.ok?Promise.all([n.json(),c.json()]):c.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(s.a)(t,2),c=n[0],r=n[1];e.setState({decks:c,cards:r})})).catch((function(e){console.error({error:e})}))}},{key:"renderMain",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p.a,{path:"/newdeck",component:m}),Object(c.jsx)(p.a,{path:"/deck/:deckId",component:y}),Object(c.jsx)(p.a,{exact:!0,path:"/deck",component:S})]})}},{key:"render",value:function(){var e={decks:this.state.decks,cards:this.state.cards,commitCards:this.handleCommitCards,commitDeck:this.handleCommitDeck,deleteCard:this.handleDeleteCard,deleteDeck:this.handleDeleteDeck,updateDeck:this.handleUpdateDeck,updateCard:this.handleUpdateCard};return Object(c.jsx)(O.Provider,{value:e,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)(f.a,{to:"/deck",children:Object(c.jsx)("h1",{children:"Quick Card"})})}),Object(c.jsx)("main",{className:"AppMain",children:this.renderMain()})]})})}}]),n}(i.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};d.a.render(Object(c.jsx)(o.a,{children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(g,{})})}),document.getElementById("root")),I()}},[[31,1,2]]]);
//# sourceMappingURL=main.e6552107.chunk.js.map